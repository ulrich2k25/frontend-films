<!-- Formulaire pour ajouter un nouveau film (visible uniquement pour admin) -->
<div *ngIf="isAdmin" style="margin-bottom: 30px;">
  <app-add-movie></app-add-movie>
</div>

<!-- Titre de la page -->
<div style="text-align: center; margin-top: 30px;">
  <h1 style="font-size: 2rem; font-weight: bold;">ðŸŽ¬ Liste des Films</h1>
</div>

<!-- Grille des films -->
<div style="
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
  padding: 30px;
  max-width: 1200px;
  margin: auto;
">
  <div *ngFor="let movie of paginatedMovies" style="
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    transition: transform 0.2s;
    background: #fff;
    text-align: center;
    cursor: pointer;
  ">
    <a [href]="movie.telegram" target="_blank" style="text-decoration: none; color: inherit;">
      <img [src]="movie.img" [alt]="movie.title" style="width: 100%; height: 250px; object-fit: cover;" />
      <div style="padding: 10px;">
        <h3 style="font-weight: bold; font-size: 1.1rem;">{{ movie.title }}</h3>
      </div>
    </a>
  </div>
</div>

<!-- âœ… Pagination avec numÃ©ros de page -->
<div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 20px; margin-bottom: 40px; flex-wrap: wrap;">
  <!-- Bouton PrÃ©cÃ©dent -->
  <button 
    (click)="currentPage = currentPage - 1" 
    [disabled]="currentPage === 1"
    style="padding: 8px 16px; background-color: #e0e0e0; border: none; border-radius: 5px; cursor: pointer;"
  >
    â¬… PrÃ©cÃ©dent
  </button>

  <!-- NumÃ©ros de page -->
  <ng-container *ngFor="let page of totalPagesArray; let i = index">
    <button
      (click)="currentPage = i + 1"
      [ngClass]="{'active-page': currentPage === (i + 1)}"
      style="padding: 8px 12px; background-color: #f0f0f0; border: none; border-radius: 5px; cursor: pointer;"
    >
      {{ i + 1 }}
    </button>
  </ng-container>

  <!-- Bouton Suivant -->
  <button 
    (click)="currentPage = currentPage + 1" 
    [disabled]="currentPage === totalPagesArray.length"
    style="padding: 8px 16px; background-color: #e0e0e0; border: none; border-radius: 5px; cursor: pointer;"
  >
    Suivant âž¡
  </button>
</div>
